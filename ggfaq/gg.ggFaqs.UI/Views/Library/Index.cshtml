@model gg.ggFaqs.UI.ViewModels.LibraryViewModel

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="~/css/game.css" asp-append-version="true" />
<script src="~/js/site.js" asp-append-version="true"></script>
<div class="row justify-content-center">
    <div class="col-sm-10 col-md-10 col-lg-2 sidebar bg-gradient text-light justify-content-center ps-5">
        <form asp-action="ApplyFilters1">
            <div class="accordion accordion-flush col-8" id="accordionFlushExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne"> Genres </button>
                    </h2>
                    @*Genre Filtering Options*@
                    <div id="flush-collapseOne" class="accordion-collapse col ms-3" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                        <input type="checkbox" value="true" onclick="updateVal(Genre11)" ) id="cbxGenre1" /> <label for="cbxGenre1">Sports</label> <br />
                        <input asp-for="GameListViewModel.Genres[0].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Genres[0].IsChecked" class="form-control" value="0" id="Genre11" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Genre21)" id="cbxGenre2" ) /> <label for="cbxGenre1">Shooter</label> <br />
                        <input asp-for="GameListViewModel.Genres[1].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Genres[1].IsChecked" class="form-control" value="0" id="Genre21" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Genre31)" id="cbxGenre3" ) /> <label for="cbxGenre1">RPG</label> <br />
                        <input asp-for="GameListViewModel.Genres[2].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Genres[2].IsChecked" class="form-control" value="0" id="Genre31" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Genre41)" ) id="cbxGenre4" /> <label for="cbxGenre1">Battle Royale</label> <br />
                        <input asp-for="GameListViewModel.Genres[3].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Genres[3].IsChecked" class="form-control" value="0" id="Genre41" type="hidden" />
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo"> Ratings </button>
                    </h2>
                    @*Ratings Filtering Options*@
                    <div id="flush-collapseTwo" class="accordion-collapse collapse ms-3" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                        <input type="checkbox" value="true" onclick="updateVal(Rating1)" ) id="cbxRating1" /> <label for="cbxRating1">E</label> <br />
                        <input asp-for="GameListViewModel.Ratings[0].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Ratings[0].IsChecked" class="form-control" value="0" id="Rating1" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Rating2)" id="cbxRating2" ) /> <label for="cbxRating2">E10+</label> <br />
                        <input asp-for="GameListViewModel.Ratings[1].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Ratings[1].IsChecked" class="form-control" value="0" id="Rating2" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Rating3)" id="cbxRating3" ) /> <label for="cbxRating3">T</label> <br />
                        <input asp-for="GameListViewModel.Ratings[2].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Ratings[2].IsChecked" class="form-control" value="0" id="Rating3" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Rating4)" ) id="cbxRating4" /> <label for="cbxRating4">M</label> <br />
                        <input asp-for="GameListViewModel.Ratings[3].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Ratings[3].IsChecked" class="form-control" value="0" id="Rating4" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Rating5)" ) id="cbxRating5" /> <label for="cbxRating5">A</label> <br />
                        <input asp-for="GameListViewModel.Ratings[4].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Ratings[4].IsChecked" class="form-control" value="0" id="Rating5" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Rating6)" ) id="cbxRating6" /> <label for="cbxRating6">RP</label> <br />
                        <input asp-for="GameListViewModel.Ratings[5].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Ratings[5].IsChecked" class="form-control" value="0" id="Rating6" type="hidden" />

                        <input type="checkbox" value="true" onclick="updateVal(Rating7)" ) id="cbxRating7" /> <label for="cbxRating7">RP17+</label> <br />
                        <input asp-for="GameListViewModel.Ratings[6].Id" class="form-control" type="hidden" />
                        <input asp-for="GameListViewModel.Ratings[6].IsChecked" class="form-control" value="0" id="Rating7" type="hidden" />
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                            Manufacturers
                        </button>
                    </h2>
                    @*Manufacturers Filtering Options*@
                    <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                        <p>List Of Manufacturers</p>
                    </div>
                </div>
            </div>

            <div class="form-group pt-1">
                <input type="submit" value="Save" class="btn btn-secondary" />
            </div>
        </form>
    </div>

    <div class="col-8 main bg-gradient text-light">
        <div class="row justify-content-center">
            <h1>Games</h1>

            <div class="form-group pb-4">
                <form method="get" asp-controller="Library" asp-action="IndexSearch" autocomplete="off" class="searchbar">
                    <div class="row justify-content-center">
                        <div class="col-sm-8 col-md-6 col-lg-6">
                            <input type="search" class="form-control" id="searchInput" placeholder="Search a game..." oninput="updateSearchResults()" onclick="showResults()" onfocusout="clearResults()" />
                        </div>
                        <div class="col-sm-1 col-md-1 col-lg-1">
                            <input type="submit" value="Search" class="btn-secondary" />
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-sm-6 col-md-6 col-lg-6 searchbarOverlay">
                            <div id="searchResults"></div>
                        </div>
                        <div class="col-sm-1 col-md-1">
                        </div>
                    </div>
                    <select hidden asp-for="GameListViewModel.Game.Title" class="form-control" asp-items="@(new SelectList(Model.GameListViewModel.Games, "Title", "Title"))" id="gameDropDownList"> </select>
                    <select hidden asp-for="GameListViewModel.Game.ImagePath" class="form-control" asp-items="@(new SelectList(Model.GameListViewModel.Games, "ImagePath", "ImagePath"))" id="imageDropDownList"> </select>
                    <span asp-validation-for="GameListViewModel.Game.Title" class="text-danger"></span>

                </form>
            </div>
            <form method="post" asp-controller="Game" asp-action="Details">
            <div class=" GameTable">
                <div class="row">
                    @foreach (var item in Model.GameListViewModel.Games)
                    {
                        <div class="Col-sm-12 col-md-12 col-lg-2">
                            <div class="card-header">
                                <img class="imagegamemed"
                                 alt="@item.Title"
                                 id="movieimage"
                                 onclick="on('@item.ImagePath');"
                                 src="@Url.Content(@item.ImagePath)" />

                                <h4>@Html.DisplayFor(model=>item.Title)</h4>

                                <input asp-for="@item.Id" class="form-control" type="hidden" />
                                @Html.ActionLink("+", "Details", "Game", new { item.Id })
                            </div>
                        </div>
                    }
                </div>
            </div>
            </form>
        </div>
    </div>
    <div>
        @Html.Partial("LoginPartial", Model.Customer)
        @Html.Partial("SignUpPartial", Model.Customer)
    </div>
    @*@await RenderSectionAsync("Scripts", required: false)*@
</div>


<script>
    function updateVal(id) {
        console.log(id)
        if (id.value == 1) {
            id.value = 0;
        }
        else {
            id.value = 1;
        }
    }
</script>

@*                <form asp-action="ApplyFilters">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    @foreach(var item in Model.Genres)
                    {
                        <div class="form-group">
                                <input id="Remember" name="Remember" type="checkbox" value="true" onclick="updateVal(@item.Name)" ) />
                                <input asp-for="@item.Id" class="form-control" type="hidden" />
                                <input asp-for="@item.IsChecked" class="form-control" value="0" id=@item.Name name=@item.Name />
                                <div class="form-group">
                                    <input type="submit" value="Save" class="btn btn-primary" />
                                </div>
                        </div>
                    }
                </form>*@